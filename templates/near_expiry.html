<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <style>
        body {
            background-color: #ffffff; /* Dark background */
            color: #ffffff; /* Light text */
            font-family: "Inter", sans-serif;
        }


        .sidebar {
            height: 100%;
            width: 250px; /* Sidebar width */
            position: fixed;
            top: 0;
            left: -250px; /* Hide sidebar */
            background-color: #00796b; /* Sidebar background color */
            overflow-x: hidden;
            transition: 0.5s; /* Transition effect */
            padding-top: 60px;
        }
        .sidebar a {
            padding: 15px 25px;
            text-decoration: none;
            font-size: 1.1em;
            color: white;
            display: block;
            transition: 0.3s;
        }
        .sidebar a:hover {
            background-color: #004d40; /* Sidebar link hover color */
        }
        .open-btn {
            font-size: 20px;
            cursor: pointer;
            background-color: #007bff; /* Button color */
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            margin: 10px;
        }
        .main-content {
            margin-left: 10px;
            padding: 20px;
        }

        h1 {
            color: #007bff; /* Pop color for the heading */
            text-align: left;
            margin-bottom: 30px;
        }
        .table {
            background-color: #B6BBC0; /* Dark table background */
            border-radius: 13px;
            overflow: hidden; /* Rounded corners */
        }
        th, td {
            text-align: center; /* Center-align text */
        }
        th {
            background-color: #000000; /* Darker header */
            color: #ffcc00; /* Pop color for header text */
        }
        tr:hover {
            background-color: #4e555b; /* Row hover effect */
        }
        .btn-secondary {
            background-color: #007bff; /* Blue button */
            border: none;
        }
        .btn-secondary:hover {
            background-color: #0056b3; /* Darker blue on hover */
        }
    </style>
    <title>Products Due Within Next 3 Days</title>
</head>
<body>
    <div id="sidebar" class="sidebar">
        <a href="#" onclick="toggleSidebar()"> |☰| &times;</a>
        <a href="/">Home</a>
        <a href="/products">Products</a>
        <a href="/expired_products">Expired Products</a>
        <a href="/near_expiry">Products Near Expiry</a>
        <a href="/shopping_list">Shopping List</a>
    </div>

    <div id="main" class="main-content">
        <button class="open-btn" onclick="toggleSidebar()">☰ </button>
        {% block content %}{% endblock %}
    </div>
    
    <div class="container mt-5">
        <h1>Products Due Within Next 3 Days</h1>
        <table id="nearExpiryTable" class="table table-striped">
            <thead>
                <tr>
                    <!-- <th>ID</th> -->
                    <th>Name</th>
                    <th>Total Quantity</th>
                    <th>Unit</th>
                    <th>Expiry Date</th>
                </tr>
            </thead>
            <tbody id="nearExpiryBody">
                {% for product in products %}
                <tr>
                    <!-- <td>{{ product[0] }}</td> -->
                    <td>{{ product[1] }}</td>
                    <td>{{ product[2] }}</td>
                    <td>{{ product[3] }}</td>
                    <td>{{ product[4] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <a href="/products" class="btn btn-secondary mt-3">Back to Products</a>
    </div>


    <script>
        function toggleSidebar() {
            var sidebar = document.getElementById("sidebar");
            if (sidebar.style.left === "-250px") {
                sidebar.style.left = "0";
            } else {
                sidebar.style.left = "-250px";
            }
        }
    </script>
    
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#nearExpiryTable').DataTable();
        });
    </script>
</body>
</html>
